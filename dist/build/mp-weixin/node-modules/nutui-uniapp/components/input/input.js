"use strict";var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n;const i=require("../../../../common/vendor.js");Math||u();const u=()=>"../icon/icon.js",s=`${i.PREFIX}-input`,c=i.defineComponent({name:s,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),d=i.defineComponent((m=((e,t)=>{for(var o in t||(t={}))r.call(t,o)&&l(e,o,t[o]);if(n)for(var o of n(t))a.call(t,o)&&l(e,o,t[o]);return e})({},c),p={props:i.inputProps,emits:i.inputEmits,setup(e,{emit:t}){const o=e,n=t,r=i.useFormDisabled(i.toRef(o,"disabled"));function a(){return null==o.modelValue?"":String(o.modelValue)}const l=i.computed((()=>a())),u=i.computed((()=>i.getMainClass(o,s,{[`${s}--disabled`]:r.value,[`${s}--required`]:o.required,[`${s}--error`]:o.error,[`${s}--border`]:o.border,[`${s}-text`]:!0}))),c=i.computed((()=>[o.inputStyle,{textAlign:o.inputAlign}])),d=i.computed((()=>null==o.maxLength?-1:Number(o.maxLength)));function m(e,t="onChange"){d.value>0&&e.length>d.value&&(e=e.slice(0,d.value)),"number"===o.type&&(e=i.formatNumber(e,!1,!1)),"digit"===o.type&&(e=i.formatNumber(e,!0,!0)),o.formatter&&t===o.formatTrigger&&(e=o.formatter(e)),n(i.UPDATE_MODEL_EVENT,e)}function p(e){m(e.detail.value),i.nextTick$1((()=>{n(i.INPUT_EVENT,l.value,e)}))}function f(e){i.isH5&&e.target.composing||p(e)}function v(e){n(i.CLICK_EVENT,e)}function g(e){r.value||n("clickInput",e)}const E=i.ref(!1);function y(e){r.value||o.readonly||(E.value=!0,n(i.FOCUS_EVENT,e))}function b(e){r.value||o.readonly||(setTimeout((()=>{E.value=!1}),200),m(e.detail.value,"onBlur"),n(i.BLUR_EVENT,e))}function h(e){n(i.CONFIRM_EVENT,e)}function T(e){r.value||(n(i.UPDATE_MODEL_EVENT,"",e),n(i.CLEAR_EVENT))}function C(e){i.isH5&&(e.target.composing=!0)}function w(e){if(i.isH5){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}}return i.watch((()=>o.modelValue),(e=>{e!==l.value&&m(a())})),i.onMounted((()=>{m(a(),o.formatTrigger)})),(e,t)=>i.e({a:e.$slots.left},(e.$slots.left,{}),{b:i.n(o.inputClass),c:i.s(c.value),d:l.value,e:o.type,f:o.placeholder,g:o.placeholderStyle,h:o.placeholderClass,i:i.unref(r),j:o.readonly,k:o.autofocus,l:d.value,m:o.formatTrigger,n:!!o.autofocus||void 0,o:o.confirmType,p:o.adjustPosition,q:o.alwaysSystem,r:o.inputMode,s:o.cursorSpacing,t:o.alwaysEmbed,v:o.confirmHold,w:o.cursor,x:o.selectionStart,y:o.selectionEnd,z:o.holdKeyboard,A:i.o(f),B:i.o(y),C:i.o(b),D:i.o(g),E:i.o(w),F:i.o(C),G:i.o(w),H:i.o(h),I:o.readonly},o.readonly?{J:i.o(g)}:{},{K:o.showWordLimit&&d.value>0},o.showWordLimit&&d.value>0?{L:i.t(l.value.length),M:i.t(d.value)}:{},{N:o.clearable&&!o.readonly},o.clearable&&!o.readonly?{O:i.p({name:"mask-close","custom-class":"nut-input-clear",size:o.clearSize,width:o.clearSize,height:o.clearSize}),P:(E.value||o.showClearIcon)&&l.value.length>0?"":1,Q:i.o(T)}:{},{R:i.n(u.value),S:i.s(o.customStyle),T:i.o(v)})}},t(m,o(p))));var m,p;wx.createComponent(d);
