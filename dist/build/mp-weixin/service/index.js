"use strict";var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(r,t,n)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,u=(e,r)=>{for(var t in r||(r={}))o.call(r,t)&&i(e,t,r[t]);if(n)for(var t of n(r))s.call(r,t)&&i(e,t,r[t]);return e};const a=require("../common/vendor.js"),c=require("./helper.js");require("../store/index.js");const l=require("../constants/index.js"),p=require("../store/modules/auth/index.js"),d=a.un.create({baseUrl:l.DefaultBaseUrl,timeout:3e4,paramsSerializer:e=>a.qs.stringify(Object.fromEntries(Object.entries(e).filter((([,e])=>{var r;return!["undefined","null",void 0,null].includes(null!=(r=null==e?void 0:e.toString())?r:e)}))))});d.interceptors.request.use((e=>{const n=p.useAuthStore();var o,s;return e.headers=u((o=u({},l.DefaultHeaders),s={token:n.token,"X-Token":n.token,"X-Access-Token":n.token},r(o,t(s))),e.headers),e})),d.interceptors.response.use((e=>e));const b={queryClient:new a.QueryClient({queryCache:new a.QueryCache({onError:e=>{a.un.isCancel(e)||c.showNetworkError({error:e})}}),mutationCache:new a.MutationCache({onError:e=>{a.un.isCancel(e)||c.showNetworkError({error:e})}})})};exports.instance=d,exports.vueQueryPluginOptions=b;
