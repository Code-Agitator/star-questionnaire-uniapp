"use strict";const l=require("../common/vendor.js");let n=!1;exports.showNetworkError=function({hasPrefix:u=!0,message:o,response:d,error:i,type:v="modal",success:t,fail:e,complete:s}={}){var a,r,c,m,g,f,h,p,$,k,M,w,x,C,j,q,y,E,N,P,T,b,z,A,B,D,F,G,H,I,J,K,L,O,Q,R,S,U,V,W,X,Y,Z,_,ll,nl,ul,ol,dl,il,vl,tl,el,sl,al,rl,cl,ml,gl,fl,hl,pl,$l,kl,Ml,wl,xl;const Cl=null!=(k=null!=($=null!=(p=null!=(f=null!=(m=null!=(c=null==(a=null==i?void 0:i.config)?void 0:a.method)?c:null==(r=null==i?void 0:i.task)?void 0:r.method)?m:null==i?void 0:i.method)?f:null==(g=null==d?void 0:d.config)?void 0:g.method)?p:null==(h=null==d?void 0:d.task)?void 0:h.method)?$:null==d?void 0:d.method)?k:"",jl=Cl?`请求方法：${Cl}`:"",ql=null!=(P=null!=(N=null!=(E=null!=(q=null!=(C=null!=(x=null==(M=null==i?void 0:i.config)?void 0:M.url)?x:null==(w=null==i?void 0:i.task)?void 0:w.url)?C:null==i?void 0:i.url)?q:null==(j=null==d?void 0:d.config)?void 0:j.url)?E:null==(y=null==d?void 0:d.task)?void 0:y.url)?N:null==d?void 0:d.url)?P:"",yl=ql?`请求地址：${ql}`:"",El=null!=(R=null!=(Q=null!=(L=null!=(J=null!=(H=null!=(G=null!=(F=null!=(B=null!=(z=null!=(T=null==i?void 0:i.status)?T:null==i?void 0:i.statusCode)?z:null==(b=null==i?void 0:i.data)?void 0:b.status)?B:null==(A=null==i?void 0:i.data)?void 0:A.statusCode)?F:null==(D=null==i?void 0:i.data)?void 0:D.code)?G:null==d?void 0:d.status)?H:null==d?void 0:d.statusCode)?J:null==(I=null==d?void 0:d.data)?void 0:I.status)?L:null==(K=null==d?void 0:d.data)?void 0:K.code)?Q:null==(O=null==d?void 0:d.data)?void 0:O.statusCode)?R:0,Nl=El?`状态代码：${El}`:"",Pl=null!=(ol=null!=(ul=null!=(ll=null!=(Z=null!=(Y=null!=(X=null!=(V=null!=(S=null==i?void 0:i.code)?S:null==i?void 0:i.errno)?V:null==(U=null==i?void 0:i.data)?void 0:U.code)?X:null==(W=null==i?void 0:i.data)?void 0:W.errno)?Y:null==d?void 0:d.code)?Z:null==d?void 0:d.errno)?ll:null==(_=null==d?void 0:d.data)?void 0:_.code)?ul:null==(nl=null==d?void 0:d.data)?void 0:nl.errno)?ol:"",Tl=Pl?`错误代码：${Pl}`:"",bl=null!=(xl=null!=(wl=null!=(Ml=null!=(kl=null!=($l=null!=(pl=null!=(fl=null!=(ml=null!=(rl=null!=(al=null!=(sl=null!=(el=null!=(vl=null==(dl=null==i?void 0:i.data)?void 0:dl.errMsg)?vl:null==(il=null==i?void 0:i.data)?void 0:il.message)?el:null==(tl=null==i?void 0:i.data)?void 0:tl.msg)?sl:null==i?void 0:i.errMsg)?al:null==i?void 0:i.message)?rl:null==i?void 0:i.msg)?ml:null==(cl=null==d?void 0:d.data)?void 0:cl.errMsg)?fl:null==(gl=null==d?void 0:d.data)?void 0:gl.message)?pl:null==(hl=null==d?void 0:d.data)?void 0:hl.msg)?$l:null==d?void 0:d.errMsg)?kl:null==d?void 0:d.message)?Ml:null==d?void 0:d.msg)?wl:o)?xl:"",zl=`${[u?"发生了错误。":"",bl?`错误信息：${bl}`:"",Tl,jl,yl,Nl].filter((l=>!!l)).join("\r\n")}`;"toast"!==v?"modal"!==v||n||(n=!0,l.index.showModal({title:"错误",content:zl,success:l=>{null==t||t(l),n=!1},fail:l=>{null==e||e(l),n=!1},complete:s})):l.index.showToast({title:zl,success:t,fail:e,complete:s})};
